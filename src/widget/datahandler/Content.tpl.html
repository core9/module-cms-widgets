<div ng-controller="WidgetContentController">
  <fieldset>
    <legend>Content selection</legend>
    <p class="lead">Enter the field (and value) for the query of the content. You can use a Global value, which means the value will be set at a higher level (e.g. pagemodel or widgetbundle).</p>
    <h4>Params:</h4>
    <dl>
      <dt>content</dt>
      <dd>The content item</dd>
    </dl>
    <div class="form-group row">
      <label class="col-md-2 control-label">ContentType</label>
      <div class="col-md-8">
        <select ng-options="contenttype as contenttype.name for contenttype in contenttypes" ng-model="contenttype" class="form-control input-md"></select>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-md-2 control-label">Field</label>
      <div class="col-md-8">
        <div class="input-group">
          <span class="input-group-addon"><input type="checkbox" ng-model="manual" /> Manual</span>
          <select ng-if="!manual" ng-options="key as key for (key,field) in contenttype.schema.properties" ng-model="widget.handleroptions.fieldName" class="form-control input-md">
            <option value="">Database ID</option>
          </select>
          <input type="text" ng-if="manual" class="form-control" ng-model="widget.handleroptions.fieldName" />
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-md-2 control-label">Value</label>
      <div class="col-md-8">
        <div class="input-group">
          <span class="input-group-addon"><input type="checkbox" ng-model="widget.handleroptions.id.global" /> Global</span>
          <input type="text" ng-disabled="widget.handleroptions.id.global" class="form-control" ng-model="widget.handleroptions.id.value" />
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-md-2 control-label">Quantity</label>
      <div class="col-md-8">
        <input type="checkbox" ng-model="widget.handleroptions.multipleResults" /> Allow multiple results
      </div>
    </div>
  </fieldset>
</div>